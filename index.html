<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Restaurant Inspection Risk Analysis</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Tableau JS API -->
  <script type="text/javascript" src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      position: relative;
    }
    section {
      padding: 80px 0;
    }
    #navbar .nav-link {
      cursor: pointer;
    }
    .tableauPlaceholder {
      width: 100%;
      height: 80vh;
    }
  </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#navbar" data-bs-offset="70" tabindex="0">
  <!-- Navbar -->
  <nav id="navbar" class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Risk Analysis</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu"
        aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#intro">Introduction</a></li>
          <li class="nav-item"><a class="nav-link" href="#data-methods">Data & Methods</a></li>
          <li class="nav-item"><a class="nav-link" href="#results">Results</a></li>
          <li class="nav-item"><a class="nav-link" href="#discussion">Discussion</a></li>
          <li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sections -->
  <main class="container-fluid">
    <!-- Introduction -->
    <section id="intro" class="bg-light">
      <div class="container">
        <h2>Introduction</h2>
        <p>Our project predicts the likelihood of NYC restaurants receiving a low health inspection score, empowering stakeholders to target inspections and resources more effectively.</p>
      </div>
    </section>

    <!-- Data & Methods -->
    <section id="data-methods">
      <div class="container">
        <h2>Data &amp; Methods</h2>
        <ul>
          <li><strong>Data Source:</strong> NYC Open Data—Health Restaurant Inspections (~300K records from 2010–2024).</li>
          <li><strong>Processing:</strong> Cleaned and normalized fields; extracted date features; encoded categorical variables; standard scaled continuous metrics.</li>
          <li><strong>Modeling:</strong> Explored ordinal regression and ensemble classifiers; LightGBM ordinal model yielded the best performance.</li>
          <li><strong>Evaluation:</strong> 5-fold cross-validation, accuracy, balanced accuracy, and confusion matrix analysis.</li>
        </ul>
      </div>
    </section>

    <!-- Results -->
    <section id="results" class="bg-light">
      <div class="container">
        <h2>Results</h2>
        <div id="tableauViz" class="tableauPlaceholder mb-4"></div>
      </div>
    </section>

    <!-- Discussion -->
    <section id="discussion">
      <div class="container">
        <h2>Discussion</h2>
        <p>The model effectively identifies high-risk restaurants with a balanced accuracy of ~75%. Feature importance highlights violations history, cuisine type, and inspection frequency as top predictors. Further work could integrate real-time location data and demographic factors.</p>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="bg-light">
      <div class="container">
        <h2>FAQ</h2>
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq1-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
                What features were most important?
              </button>
            </h2>
            <div id="faq1" class="accordion-collapse collapse" aria-labelledby="faq1-header" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Historical violation counts, cuisine category, and time since last inspection were the strongest predictors.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq2-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
                How was the dataset split?
              </button>
            </h2>
            <div id="faq2" class="accordion-collapse collapse" aria-labelledby="faq2-header" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                We used an 80/20 train/test split with stratification on inspection score to maintain class balance.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq3-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
                What’s next?
              </button>
            </h2>
            <div id="faq3" class="accordion-collapse collapse" aria-labelledby="faq3-header" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Future enhancements include geospatial clustering, real-time dashboard updates, and integration with inspection scheduling APIs.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Initialize Tableau Viz
    document.addEventListener('DOMContentLoaded', () => {
      const placeholder = document.getElementById('tableauViz');
      const url = "https://public.tableau.com/views/RestaurantRiskAnalysisInsightsandActionsFinaltwb/RestaurantRiskAnalysisInsightsandActions?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link";
      new tableau.Viz(placeholder, url, {
        hideTabs: true,
        hideToolbar: true,
        width: placeholder.offsetWidth,
        height: placeholder.offsetHeight
      });
    });
  </script>
</body>
</html>
